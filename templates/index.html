<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>√âcole de Mama Binta</title>
<style>
body {
    font-family: Arial, sans-serif;
    background: #fef6e4;
    text-align: center;
    padding: 30px;
}
h1 { color: #f582ae; }
button {
    font-size: 18px;
    padding: 12px 20px;
    margin: 6px;
    border: none;
    border-radius: 10px;
    background: #8bd3dd;
    cursor: pointer;
}
button:hover { background: #5ec2c9; }
.choice {
    background: #ffd803;
}
#box {
    margin-top: 20px;
    font-size: 20px;
    white-space: pre-line;
}
</style>
</head>

<body>

<h1>√âcole de Mama Binta üëßüìö</h1>

<h2>üìñ Lecture</h2>
<button onclick="getReadingLesson()">Le√ßon</button>
<button onclick="getReadingExercise()">Exercice</button>

<h2>‚úçÔ∏è √âcriture</h2>
<button onclick="getWritingExercise()">Exercice d‚Äô√©criture</button>

<h2>‚ûï‚ûñ Math√©matiques</h2>
<button onclick="getAddition()">Addition</button>
<button onclick="getSubtraction()">Soustraction</button>

<div id="box"></div>

<script>
let correctAnswer = null;

function getReadingLesson() {
    fetch("/lesson/reading")
        .then(r => r.json())
        .then(d => {
            document.getElementById("box").innerText =
                d.title + "\n\n" + d.content;
        });
}

function getReadingExercise() {
    fetch("/exercise/reading")
        .then(r => r.json())
        .then(d => {
            correctAnswer = d.answer;
            let html = d.question + "<br><br>";
            d.choices.forEach(c => {
                html += `<button class="choice" onclick="check('${c}')">${c}</button><br>`;
            });
            document.getElementById("box").innerHTML = html;
        });
}

function getWritingExercise() {
    fetch("/exercise/writing")
        .then(r => r.json())
        .then(d => {
            correctAnswer = d.answer;
            let html = "‚úçÔ∏è " + d.question + "<br><br>";
            d.choices.forEach(c => {
                html += `<button class="choice" onclick="check('${c}')">${c}</button><br>`;
            });
            document.getElementById("box").innerHTML = html;
        });
}

function check(choice) {
    if (choice === correctAnswer) {
        document.getElementById("box").innerHTML =
            "Bravo Mama Binta üéâ‚úçÔ∏è";
    } else {
        document.getElementById("box").innerHTML =
            "Essaie encore üòä";
    }
}

function getAddition() {
    fetch("/math/addition")
        .then(r => r.json())
        .then(d => {
            document.getElementById("box").innerText =
                d.question + "\n\nR√©ponse : " + d.answer;
        });
}

function getSubtraction() {
    fetch("/math/subtraction")
        .then(r => r.json())
        .then(d => {
            document.getElementById("box").innerText =
                d.question + "\n\nR√©ponse : " + d.answer;
        });
}
</script>

</body>
</html>
