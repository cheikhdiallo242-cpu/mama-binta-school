<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Ã‰cole de Mama Binta</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #fef6e4;
            text-align: center;
            padding: 30px;
        }
        h1 {
            color: #f582ae;
        }
        button {
            font-size: 18px;
            padding: 15px 25px;
            margin: 8px;
            border: none;
            border-radius: 10px;
            background-color: #8bd3dd;
            cursor: pointer;
        }
        button:hover {
            background-color: #5ec2c9;
        }
        #lesson {
            margin-top: 20px;
            font-size: 18px;
            white-space: pre-line;
        }
        #question {
            font-size: 20px;
            margin-top: 20px;
        }
        #result {
            margin-top: 15px;
            font-size: 20px;
        }
        input {
            font-size: 18px;
            padding: 8px;
            width: 120px;
            text-align: center;
        }
    </style>
</head>
<body>

<h1>Bienvenue Ã  lâ€™Ã©cole de Mama Binta ðŸ‘§ðŸ“š</h1>

<p>Commence par la leÃ§on :</p>

<button onclick="showAdditionLesson()">ðŸ“˜ LeÃ§on Addition</button>
<button onclick="showSubtractionLesson()">ðŸ“˜ LeÃ§on Soustraction</button>

<p id="lesson"></p>

<hr>

<p>Fais un exercice :</p>

<button onclick="getAddition()">âž• Addition</button>
<button onclick="getSubtraction()">âž– Soustraction</button>

<p id="question"></p>

<input type="number" id="answer" placeholder="RÃ©ponse">
<br><br>
<button onclick="checkAnswer()">VÃ©rifier</button>

<p id="result"></p>

<script>
let correctAnswer = null;

function showAdditionLesson() {
    fetch("/lesson/addition")
        .then(r => r.json())
        .then(data => {
            document.getElementById("lesson").innerText =
                data.title + "\n\n" + data.content;
        });
}

function showSubtractionLesson() {
    fetch("/lesson/subtraction")
        .then(r => r.json())
        .then(data => {
            document.getElementById("lesson").innerText =
                data.title + "\n\n" + data.content;
        });
}

function getAddition() {
    fetch("/math/exercise")
        .then(r => r.json())
        .then(data => {
            document.getElementById("question").innerText = data.question;
            correctAnswer = data.answer;
            document.getElementById("result").innerText = "";
        });
}

function getSubtraction() {
    fetch("/math/subtraction")
        .then(r => r.json())
        .then(data => {
            document.getElementById("question").innerText = data.question;
            correctAnswer = data.answer;
            document.getElementById("result").innerText = "";
        });
}

function checkAnswer() {
    let userAnswer = document.getElementById("answer").value;
    if (correctAnswer === null) {
        document.getElementById("result").innerText =
            "Choisis dâ€™abord un exercice ðŸ˜Š";
        return;
    }

    if (parseInt(userAnswer) === correctAnswer) {
        document.getElementById("result").innerText =
            "Bravo Mama Binta ðŸŽ‰";
    } else {
        document.getElementById("result").innerText =
            "Ce nâ€™est pas grave, essaie encore ðŸ˜Š";
    }
}
</script>

</body>
</html>
