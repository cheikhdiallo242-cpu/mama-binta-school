<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Ã‰cole de Mama Binta</title>
<style>
body {
    font-family: Arial, sans-serif;
    background: #fef6e4;
    text-align: center;
    padding: 30px;
}
h1 { color: #f582ae; }
button {
    font-size: 18px;
    padding: 12px 20px;
    margin: 6px;
    border: none;
    border-radius: 10px;
    background: #8bd3dd;
    cursor: pointer;
}
button:hover { background: #5ec2c9; }
#box {
    margin-top: 20px;
    font-size: 20px;
    white-space: pre-line;
}
.choice {
    background: #ffd803;
}
</style>
</head>

<body>

<h1>Ã‰cole de Mama Binta ðŸ‘§ðŸ“š</h1>

<h2>ðŸ“– Lecture</h2>
<button onclick="getReadingLesson()">LeÃ§on de lecture</button>
<button onclick="getReadingExercise()">Exercice de lecture</button>

<h2>âž•âž– MathÃ©matiques</h2>
<button onclick="getAddition()">Addition</button>
<button onclick="getSubtraction()">Soustraction</button>

<div id="box"></div>

<script>
let correctAnswer = null;

function getReadingLesson() {
    fetch("/lesson/reading")
        .then(r => r.json())
        .then(data => {
            document.getElementById("box").innerText =
                data.title + "\n\n" + data.content;
        });
}

function getReadingExercise() {
    fetch("/exercise/reading")
        .then(r => r.json())
        .then(data => {
            correctAnswer = data.answer;
            let html = data.question + "<br><br>";
            data.choices.forEach(c => {
                html += `<button class="choice" onclick="check('${c}')">${c}</button><br>`;
            });
            document.getElementById("box").innerHTML = html;
        });
}

function check(choice) {
    if (choice === correctAnswer) {
        document.getElementById("box").innerHTML = "Bravo Mama Binta ðŸŽ‰ðŸ“–";
    } else {
        document.getElementById("box").innerHTML = "Essaie encore ðŸ˜Š";
    }
}

function getAddition() {
    fetch("/math/addition")
        .then(r => r.json())
        .then(data => {
            document.getElementById("box").innerText =
                data.question + "\n\nRÃ©ponse : " + data.answer;
        });
}

function getSubtraction() {
    fetch("/math/subtraction")
        .then(r => r.json())
        .then(data => {
            document.getElementById("box").innerText =
                data.question + "\n\nRÃ©ponse : " + data.answer;
        });
}
</script>

</body>
</html>
